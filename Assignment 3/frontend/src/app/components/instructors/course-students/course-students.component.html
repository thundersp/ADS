<div class="container mx-auto mt-6 px-4">
    <h2 class="text-xl font-bold text-blue-700 mb-4">Course Students</h2>
  
    <!-- Input Fields -->
    <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-4">
      <input class="border rounded-lg p-2 w-full" [(ngModel)]="courseId" placeholder="Course ID" />
      <input class="border rounded-lg p-2 w-full" [(ngModel)]="secId" placeholder="Section ID" />
      <input class="border rounded-lg p-2 w-full" [(ngModel)]="semester" placeholder="Semester" />
      <input class="border rounded-lg p-2 w-full" [(ngModel)]="year" placeholder="Year" />
      <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700" (click)="fetchStudents()">
        Fetch Students
      </button>
    </div>
  
    <!-- Table -->
    <div class="overflow-x-auto">
      <table *ngIf="students.length > 0" class="w-full border border-gray-300 rounded-lg shadow-md">
        <thead class="bg-gray-900 text-white">
          <tr>
            <th class="px-4 py-2">Student ID</th>
            <th class="px-4 py-2">Name</th>
            <th class="px-4 py-2">Grade</th>
            <th class="px-4 py-2"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let student of students" class="border-b hover:bg-gray-100">
            <td class="px-4 py-2 text-center">{{ student.ID }}</td>
            <td class="px-4 py-2 text-center">{{ student.name }}</td>
            <td class="px-4 py-2 text-center">
              <input [(ngModel)]="student.grade" class="border rounded-md p-1 w-full text-center" placeholder="Enter Grade" />
            </td>
            <td class="px-4 py-2 text-center">
              <button class="bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700" (click)="submitGrade(student)">
                Submit Grade
              </button>
              <p *ngIf="student.successMessage" class="text-green-600 text-sm mt-1">{{ student.successMessage }}</p>
              <p *ngIf="student.errorMessage" class="text-red-600 text-sm mt-1">{{ student.errorMessage }}</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  